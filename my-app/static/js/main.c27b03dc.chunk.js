(this["webpackJsonpmy-app-frontend"]=this["webpackJsonpmy-app-frontend"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},114:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){},171:function(e,t,n){},185:function(e,t,n){},190:function(e,t){},192:function(e,t){},28:function(e,t,n){},31:function(e,t,n){},311:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Qt}));n(13),n(15),n(104),n(171);var c=n(16),i=n(1);var r=function(){var e=Object(c.f)();return Object(i.jsx)("div",{className:"filter-header base",children:Object(i.jsxs)("div",{className:"tasks-div",children:[Object(i.jsx)("button",{id:"new-movie-but",onClick:function(t){t.preventDefault(),e.push("/my-app/additional/genre")},children:"Genre add. task"}),Object(i.jsx)("button",{id:"new-movie-but",onClick:function(t){t.preventDefault(),e.push("/my-app/additional/duration")},children:"Duration add. task"}),Object(i.jsx)("button",{id:"new-movie-but",onClick:function(t){t.preventDefault(),e.push("/my-app/additional/screenwriter")},children:"Director add. task"})]})})},o=n(39),a=(n(105),n(14)),s=n(3),l="id",d="name",u="coordinate",j="date",b="oscar",m="duration",O="genre",p="rating",h="screenWriter",f="SET_PER_PAGE",x="SET_CUR_PAGE",v="SET_CUR_CRITERION",y="SET_ITEM_COUNT",g="DELETE_MOVIE",S="SET_SORT",N="REMOVE_SORT",E="SHOW_MODAL",C="SET_FILTER",w="REMOVE_FILTER";var T=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.page.sortBy})),n=Object(s.useSelector)((function(e){return e.page.filters})),c=Object(s.useSelector)((function(e){return e.page.curCriterion}));function r(n){var c=document.getElementById("sort-"+n);t.includes(n)?(e({type:N,payload:n}),c.style.color="rgba(255,255,255,0.5)"):(e({type:S,payload:n}),c.style.color="rgb(255,255,255)")}function f(t,i){console.log("CUR = "+c);var r,a=document.getElementById("filter-"+i),s=Object(o.a)(n);try{for(s.s();!(r=s.n()).done;){if(r.value.name===i)return e({type:w,payload:i}),void(a.style.color="rgba(255,255,255,0.5)")}}catch(l){s.e(l)}finally{s.f()}t&&e({type:v,payload:i}),e({type:E,payload:t})}return Object(i.jsxs)("div",{className:"table-header base",id:"table-header",children:[Object(i.jsxs)("div",{className:"id-div",children:[Object(i.jsx)("span",{children:"Id"}),Object(i.jsx)(a.c,{color:"rgba(255,255,255,0.5)",className:"pointer",id:"sort-id",onClick:function(){return r(l)}}),Object(i.jsx)(a.b,{color:"rgba(255,255,255,0.5)",className:"pointer",id:"filter-id",onClick:function(){return f(!0,l)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Name"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-name",onClick:function(){return r(d)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-name",onClick:function(){return f(!0,d)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Coordinates"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-coordinate",onClick:function(){return r(u)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-coordinate",onClick:function(){return f(!0,u)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Creation Date"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-date",onClick:function(){return r(j)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-date",onClick:function(){return f(!0,j)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Oscars"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-oscar",onClick:function(){return r(b)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-oscar",onClick:function(){return f(!0,b)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Duration"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-duration",onClick:function(){return r(m)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-duration",onClick:function(){return f(!0,m)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Genre"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-genre",onClick:function(){return r(O)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-genre",onClick:function(){return f(!0,O)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Rating"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-rating",onClick:function(){return r(p)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-rating",onClick:function(){return f(!0,p)}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Director"}),Object(i.jsx)(a.c,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"sort-screenWriter",onClick:function(){return r(h)}}),Object(i.jsx)(a.b,{className:"pointer",color:"rgba(255,255,255,0.5)",id:"filter-screenWriter",onClick:function(){return f(!0,h)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Action"})})]})},D=n(29),k=(n(185),n(2)),L=n(317),R=n(318);var I=function(){var e=Object(s.useSelector)((function(e){return e.page.perPage})),t=Object(s.useSelector)((function(e){return e.page.currentPage})),n=Object(s.useSelector)((function(e){return e.page.itemCount})),r=Object(s.useDispatch)(),o=Object(c.f)(),a=Object(k.useState)("10"),l=Object(D.a)(a,2),d=l[0],u=l[1],j=Object(k.useState)("1"),b=Object(D.a)(j,2),m=b[0],O=b[1];function p(t){t>0&&(t-1)*e-n<0&&(O(t),r({type:x,payload:t}))}return Object(i.jsxs)("div",{className:"footer base",children:[Object(i.jsx)("button",{id:"new-movie-but",onClick:function(){o.push("/my-app/new")},children:Object(i.jsxs)("div",{className:"icon-but",children:[Object(i.jsx)("div",{className:"icon",children:Object(i.jsx)(L.a,{color:"#777777"})}),"ADD MOVIE"]})}),Object(i.jsxs)("div",{className:"page-footer",children:[Object(i.jsx)("span",{children:"Per Page"}),Object(i.jsx)("input",{id:"current-num",value:d,onChange:function(e){var t=e.target.value;u(t)},onFocus:function(e){u("")},onBlur:function(e){var t=e.target.value;""!==t&&Number.isInteger(Number(t))&&Number(t)>0?r({type:f,payload:t}):(u("10"),r({type:f,payload:10}))}}),Object(i.jsx)("span",{children:"Total"}),Object(i.jsx)("input",{id:"current-page",value:n,contentEditable:"false"}),Object(i.jsx)("div",{id:"left-arrow",children:Object(i.jsx)(R.a,{className:"pointer",color:"#777777",onClick:function(){return p(t-1)}})}),Object(i.jsx)("input",{id:"current-page",value:m,onChange:function(e){var t=e.target.value;O(t)},onFocus:function(e){O("")},onBlur:function(e){var t=e.target.value;r({type:x,payload:t}),""!==t&&Number.isInteger(Number(t))&&Number(t)>0?r({type:x,payload:t}):(O("1"),r({type:x,payload:1}))}}),Object(i.jsx)("div",{id:"right-arrow",children:Object(i.jsx)(R.b,{className:"pointer",color:"#777777",onClick:function(){return p(t+1)}})})]})]})},M="SET_MOVIES",_="SET_EDITED_MOVIE",P="movies",A="locations",J="coordinates",G="persons",B="additional",W="http://localhost:8080/my-app/";n(74);var F=n(10),Y=n.n(F),H=function(e){var t={title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"};return t.message=e,t.position="tr",t.autoDismiss=3,t};function K(e){var t=e.perPage,n=e.currentPage,c=function(e){if(0===e.length)return"";var t,n="&sortBy=",c=Object(o.a)(e);try{for(c.s();!(t=c.n()).done;)n=n+t.value+";"}catch(i){c.e(i)}finally{c.f()}return n.substring(0,n.length-1)}(e.sortBy),i=function(e){if(0===e.length)return"";var t,n="&filterBy=",c=Object(o.a)(e);try{for(c.s();!(t=c.n()).done;){var i=t.value;switch(i.name){case l:n=n+l+","+i.from+","+i.to+";";break;case d:n=n+d+","+i.like+";";break;case b:n=n+b+","+i.from+","+i.to+";";break;case m:n=n+m+","+i.from+","+i.to+";";break;case p:n=n+p+","+i.like+";";break;case O:n=n+O+","+i.like+";";break;case j:n=n+j+","+i.from+","+i.to+";";break;case h:n=n+h+","+i.like+";";break;case u:n=n+u+","+i.xfrom+","+i.xto+","+i.yfrom+","+i.yto+";"}}}catch(r){c.e(r)}finally{c.f()}return n.substring(0,n.length-1)}(e.filters);return function(e){fetch(W+P+"?perPage="+t+"&curPage="+n+c+i,{method:"GET",headers:{}}).then((function(e){if(e.ok)return e.text();throw e})).then((function(t){var n=JSON.parse(t),c=n.count,i=n.movieList;e({type:M,payload:i}),e({type:y,payload:c})})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}function U(e){var t={};return t.id=e.id,t.name=e.name,t.creationDate=e.duration,t.genre=e.genre,t.mpaaRating=e.mpaaRating,t.oscarsCount=e.oscarsCount,t.coordinates={},t.coordinates.id=e.coordinates,t.director={},t.director.id=e.screenwriter,t.director.location={},t.director.location.id=e.locations,t}n(114);var X=function(e){var t=e.movie,n=t.id,r=Object(s.useDispatch)(),o=Object(c.f)();function l(e){r(function(e){return function(t){fetch(W+P+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;t({type:g})})).catch((function(e){e.text().then((function(e){var n=JSON.parse(e).message;t(Y.a.error(H(n)))}))}))}}(e))}return Object(i.jsxs)("div",{className:"table-row base",children:[Object(i.jsx)("div",{className:"id-div",children:n}),Object(i.jsx)("div",{children:t.name}),Object(i.jsxs)("div",{children:["(",t.coordinates.x," ; ",t.coordinates.y,")"]}),Object(i.jsx)("div",{children:t.creationDate}),Object(i.jsx)("div",{children:t.oscarsCount}),Object(i.jsx)("div",{children:t.duration}),Object(i.jsx)("div",{children:t.genre.toLowerCase()}),Object(i.jsx)("div",{children:t.mpaaRating}),Object(i.jsx)("div",{children:void 0===t.director?"null":t.director.name}),Object(i.jsxs)("div",{className:"action-div",children:[Object(i.jsx)("div",{onClick:function(){return e=n,void o.push("/my-app/edit/"+e);var e},children:Object(i.jsx)(a.a,{color:"#3DC937FF",className:"pointer icon"})}),Object(i.jsx)("div",{onClick:function(){return l(n)},children:Object(i.jsx)(a.d,{className:"pointer icon",color:"#EB6767FF"})})]})]})};var q=function(e){var t,n=e.movies;return void 0===n?Object(i.jsx)("div",{className:"table-row base id-div",children:Object(i.jsx)("div",{className:"id-div",children:"No data."})}):(t=Array.isArray(n)?n.map((function(e){return Object(i.jsx)(X,{movie:e},e.id)})):Object(i.jsx)(X,{movie:n},n.id),Object(i.jsxs)("div",{children:[" ",t]}))},z="SET_COORDINATES",V="SET_EDITED_COORDINATES";function Q(){return function(e){fetch("http://localhost:8080/my-app/coordinates",{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(console.log(e.status),!e.ok)throw e;return e.text()})).then((function(t){console.log("RESPONSE = "+t);n(74);var c=JSON.parse(t).coordinatesList;console.log("COORDINATES = "+c),e({type:z,payload:c})})).catch((function(e){}))}}function Z(e){var t={};return t.id=e.id,t.x=e.x,t.y=e.y,t}var $=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.page})),n=Object(s.useSelector)((function(e){return e.movies.movieList}));return Object(k.useEffect)((function(){e(K(t)),e(Q())}),[t.currentPage,t.perPage,t.deleteItem,t.sortBy,t.filters]),Object(i.jsxs)("div",{className:"movie-table",children:[Object(i.jsx)(r,{}),Object(i.jsx)(T,{}),Object(i.jsx)(q,{movies:n}),Object(i.jsx)(I,{})]})};var ee=function(){return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsx)("h1",{children:"Movie Table"}),Object(i.jsx)($,{})]})},te=n(19),ne=n(135),ce=n(136),ie=(n(31),n(4)),re=function(e){var t=e.input,n=e.label,c=e.readonly,r=e.type,o=e.meta,a=o.touched,s=o.error,l=o.warning;return Object(i.jsxs)("div",{className:"input-box",children:[Object(i.jsx)("div",{className:"label",children:n}),Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{placeholder:n,type:r,readOnly:c,className:a&&s?"input-error":""})),a&&(s&&Object(i.jsx)("span",{className:"error",children:s})||l&&Object(i.jsx)("span",{className:"error",children:l}))]})},oe=["PG_13","R","NC_17"],ae=["DRAMA","SCIENCE_FICTION","HORROR"],se=["GREEN","RED","YELLOW","ORANGE"],le=function(e){return e?void 0:"Required"},de="SET_PERSONS",ue="SET_EDITED_PERSON";function je(){return function(e){fetch("http://localhost:8080/my-app/persons",{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(t){console.log(t);var n=JSON.parse(t).personsList;e({type:de,payload:n})})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}function be(e){var t={};return t.id=e.id,t.name=e.name,t.weight=e.weight,t.passportID=e.eyeColor,t.birthday=e.birthday,t.location={},t.location.id=e.locations,t}var me=Object(ce.a)({form:"edit-movie-form",keepDirtyOnReinitialize:!0})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),r=e.id,o=Object(s.useDispatch)(),a=Object(s.useSelector)((function(e){return e.movies.editedMovie.id})),l=Object(s.useSelector)((function(e){return e.movies.editedMovie.name})),d=Object(s.useSelector)((function(e){return e.movies.editedMovie.oscarsCount})),u=Object(s.useSelector)((function(e){return e.movies.editedMovie.duration})),j=(Object(s.useSelector)((function(e){return e.movies.editedMovie.creationDate})),Object(s.useSelector)((function(e){return e.movies.editedMovie.genre}))),b=Object(s.useSelector)((function(e){return e.movies.editedMovie.mpaaRating})),m=Object(s.useSelector)((function(e){return e.movies.editedMovie.coordinates})),O=Object(s.useSelector)((function(e){return e.movies.editedMovie.screenWriter})),p=Object(s.useSelector)((function(e){return e.movies.editedMovie.director})),h=Object(s.useSelector)((function(e){return e.coordinates.coordinatesList})),f=(Object(s.useSelector)((function(e){return e.location.locationsList})),Object(s.useSelector)((function(e){return e.person.personsList}))),x=Object(c.f)();return Object(k.useEffect)((function(){o(function(e){return function(t){fetch(W+P+"/"+e,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(console.log("STATUS "+e.status),!e.ok)throw e;return e.text()})).then((function(e){console.log(e);var n=JSON.parse(e),c=(n.message,n.movieList[0]);c.duration=c.creationDate,t({type:_,payload:c})})).catch((function(e){e.text().then((function(e){var n=JSON.parse(e).message;t(Y.a.error(H(n)))}))}))}}(r)),o(Q()),o(je())}),[]),Object(k.useEffect)((function(){e.reset(),e.initialize({name:l,id:a,oscarsCount:d,duration:u,genre:j,mpaaRating:b,coordinates:m.id,screenwriter:p.id,director:p.id})}),[r,l,d,u,j,b,m,O]),Object(i.jsxs)("form",{onSubmit:t,id:"movie-form",children:[Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Movie"}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name"}),Object(i.jsx)(ne.a,{name:"oscarsCount",type:"number",component:re,label:"Oscars"}),Object(i.jsx)(ne.a,{name:"duration",type:"text",component:re,label:"Creation date"}),Object(i.jsx)("div",{className:"label",children:"Genre"}),Object(i.jsx)(ne.a,{name:"genre",component:"select",label:"Genre",children:ae.map((function(e){return Object(i.jsxs)("option",{value:e,selected:j===e,children:[e," "]},e)}))}),Object(i.jsx)("div",{className:"label",children:"Rating"}),Object(i.jsx)(ne.a,{name:"mpaaRating",component:"select",label:"Rating",validate:[le],children:oe.map((function(e){return Object(i.jsxs)("option",{value:e,selected:j===e,children:[e," "]},e)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]}),Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Coordinates"}),Object(i.jsx)("div",{className:"label",children:"(X , Y)"}),Object(i.jsx)(ne.a,{name:"coordinates",id:"coordinates",component:"select",label:"Coordinates",children:h.map((function(e){return Object(i.jsxs)("option",{value:e.id,children:["(",e.x," , ",e.y,") "]},e.id)}))}),Object(i.jsxs)("div",{className:"buttons-div",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",onClick:function(e){e.preventDefault();var t=document.getElementById("coordinates");x.push("/my-app/coordinates/edit/"+t.value)},children:"Edit"})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",onClick:function(e){e.preventDefault(),x.push("/my-app/coordinates/new")},children:"Create"})})]})]}),Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Director"}),Object(i.jsx)("div",{className:"label",children:"Director's name"}),Object(i.jsx)(ne.a,{name:"screenwriter",id:"screenwriter",component:"select",children:f.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(i.jsxs)("div",{className:"buttons-div",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",onClick:function(e){e.preventDefault();var t=document.getElementById("screenwriter");x.push("/my-app/person/edit/"+t.value)},children:"Edit"})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",onClick:function(e){e.preventDefault(),x.push("/my-app/person/new")},children:"Create"})})]})]})]})}));var Oe=function(){var e=Object(c.g)().id,t=Object(s.useDispatch)();return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsxs)("h2",{children:["Edit Movie (ID: ",e,")"]}),Object(i.jsx)("hr",{}),Object(i.jsx)(me,{id:e,onSubmit:function(e){t(function(e){var t={movieList:[U(e)]};return console.log("XML = "+JSON.stringify(t)),function(e){fetch("http://localhost:8080/my-app/movies",{method:"PUT",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;It.push("/my-app"),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(e))}})]})},pe=Object(ce.a)({form:"create-movie-form"})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),c=(e.id,Object(s.useDispatch)()),r=Object(s.useSelector)((function(e){return e.movies.editedMovie.genre})),o=Object(s.useSelector)((function(e){return e})),a=Object(s.useSelector)((function(e){return e.coordinates.coordinatesList})),l=Object(s.useSelector)((function(e){return e.person.personsList}));return Object(k.useEffect)((function(){c(Q()),c(je())}),[]),Object(k.useEffect)((function(){e.reset(),console.log("DEBUG = "+JSON.stringify(o)),e.initialize({genre:ae[0],mpaaRating:oe[0],coordinates:a[0].id,screenwriter:l[0].id})}),[a,l]),Object(i.jsxs)("form",{onSubmit:t,id:"movie-form",children:[Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Movie"}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name"}),Object(i.jsx)(ne.a,{name:"oscarsCount",type:"number",component:re,label:"Oscars"}),Object(i.jsx)(ne.a,{name:"duration",type:"text",component:re,label:"Creation date"}),Object(i.jsx)("div",{className:"label",children:"Genre"}),Object(i.jsx)(ne.a,{name:"genre",component:"select",label:"Genre",children:ae.map((function(e){return Object(i.jsxs)("option",{value:e,selected:r===e,children:[e," "]},e)}))}),Object(i.jsx)("div",{className:"label",children:"Rating"}),Object(i.jsx)(ne.a,{name:"mpaaRating",component:"select",label:"Rating",children:oe.map((function(e){return Object(i.jsxs)("option",{value:e,selected:r===e,children:[e," "]},e)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]}),Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Coordinates"}),Object(i.jsx)("div",{className:"label",children:"(X , Y)"}),Object(i.jsx)(ne.a,{name:"coordinates",id:"coordinates",component:"select",label:"Coordinates",children:a.map((function(e){return Object(i.jsxs)("option",{value:e.id,children:["(",e.x," , ",e.y,") "]},e.id)}))})]}),Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Director"}),Object(i.jsx)("div",{className:"label",children:"Director's name"}),Object(i.jsx)(ne.a,{name:"screenwriter",id:"screenwriter",component:"select",children:l.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})]})}));var he=function(){var e=Object(s.useDispatch)();return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsx)("h1",{children:"Create Movie"}),Object(i.jsx)(pe,{onSubmit:function(t){e(function(e){var t={movieList:[U(e)]};return console.log("XML = "+t),function(e){fetch("http://localhost:8080/my-app/movies",{method:"POST",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;It.push("/my-app"),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(t))}})]})},fe=n(142),xe=n.n(fe),ve=n(12),ye=(n(28),function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"number-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})}),ge=function(e){return e?void 0:"Required"},Se=Object(ce.a)({form:"id-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("id-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with id in range"}),Object(i.jsxs)("div",{className:"range-container",children:[Object(i.jsx)(ne.a,{name:"from",type:"text",component:ye,label:"from",validate:[ge]}),Object(i.jsx)("div",{children:" \u2014"}),Object(i.jsx)(ne.a,{name:"to",type:"text",component:ye,label:"to",validate:[ge]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Ne=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.page.filters}));return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Se,{onSubmit:function(n){var c,i=document.getElementById("filter-id"),r=Object(o.a)(t);try{for(r.s();!(c=r.n()).done;){"id"===c.value.name&&e({type:"REMOVE_FILTER",payload:"id"})}}catch(s){r.e(s)}finally{r.f()}var a={name:"id"};a.from=n.from,a.to=n.to,e({type:"SET_FILTER",payload:a}),i.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},Ee=function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"text-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})},Ce=function(e){return e?void 0:"Required"},we=Object(ce.a)({form:"name-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("name-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with title like"}),Object(i.jsx)("div",{className:"text-box-container",children:Object(i.jsx)(ne.a,{name:"like",type:"text",component:Ee,label:"from",validate:[Ce]})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Te=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(we,{onSubmit:function(t){var n=document.getElementById("filter-name"),c={name:"name"};c.like=t.like,e({type:C,payload:c}),n.style.color="rgb(255,255,255)",e({type:E,payload:!1})}})})},De=function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"number-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})},ke=function(e){return e?void 0:"Required"},Le=Object(ce.a)({form:"coordinate-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("coordinate-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with x in range"}),Object(i.jsxs)("div",{className:"range-container",children:[Object(i.jsx)(ne.a,{name:"xfrom",type:"text",component:De,label:"from",validate:[ke]}),Object(i.jsx)("div",{children:" \u2014"}),Object(i.jsx)(ne.a,{name:"xto",type:"text",component:De,label:"to",validate:[ke]})]}),Object(i.jsx)("h3",{children:"Select movies with y in range"}),Object(i.jsxs)("div",{className:"range-container",children:[Object(i.jsx)(ne.a,{name:"yfrom",type:"text",component:De,label:"from",validate:[ke]}),Object(i.jsx)("div",{children:" \u2014"}),Object(i.jsx)(ne.a,{name:"yto",type:"text",component:De,label:"to",validate:[ke]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Re=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Le,{onSubmit:function(t){var n=document.getElementById("filter-coordinate"),c={};c.name=u,c.xfrom=t.xfrom,c.xto=t.xto,c.yfrom=t.yfrom,c.yto=t.yto,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},Ie=n(141),Me=n.n(Ie),_e=function(e){var t=e.input,n=e.label,c=e.type,r=e.onKeyDown,o=e.meta,a=o.touched,s=o.error,l=o.warning;return Object(i.jsxs)("div",{className:"date-box",children:[Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{placeholder:n,type:c,onKeyDown:r,className:a&&s?"input-error":""})),a&&(s&&Object(i.jsx)("span",{className:"error",children:s})||l&&Object(i.jsx)("span",{className:"error",children:l}))]})},Pe=function(e){return e?void 0:"Required"},Ae=function(e){return Me()(e,"DD/MM/YYYY",!0).isValid()?void 0:"Date is incorrect"},Je=function(e){var t;window.event?t=window.event.keyCode:e&&(t=e.which);var n=e.target.value.length;8!==t&&(2!==n&&5!==n||(e.target.value+="/"))},Ge=Object(ce.a)({form:"id-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("id-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with date in range"}),Object(i.jsxs)("div",{className:"date-range-container",children:[Object(i.jsx)(ne.a,{name:"from",type:"text",component:_e,label:"DD/MM/YYYY",onKeyDown:Je,validate:[Pe,Ae]}),Object(i.jsx)("div",{id:"date-dash",children:" \u2014"}),Object(i.jsx)(ne.a,{name:"to",type:"text",component:_e,label:"DD/MM/YYYY",onKeyDown:Je,validate:[Pe,Ae]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Be=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Ge,{onSubmit:function(t){var n=document.getElementById("filter-date"),c={};c.name=j,c.from=t.from,c.to=t.to,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},We=function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"number-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})},Fe=function(e){return e?void 0:"Required"},Ye=Object(ce.a)({form:"oscar-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("oscar-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with oscars in range"}),Object(i.jsxs)("div",{className:"range-container",children:[Object(i.jsx)(ne.a,{name:"from",type:"text",component:We,label:"from",validate:[Fe]}),Object(i.jsx)("div",{children:" \u2014"}),Object(i.jsx)(ne.a,{name:"to",type:"text",component:We,label:"to",validate:[Fe]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var He=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Ye,{onSubmit:function(t){var n=document.getElementById("filter-oscar"),c={};c.name=b,c.from=t.from,c.to=t.to,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},Ke=function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"number-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})},Ue=function(e){return e?void 0:"Required"},Xe=Object(ce.a)({form:"duration-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("duration-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with duration (min) in range"}),Object(i.jsxs)("div",{className:"range-container",children:[Object(i.jsx)(ne.a,{name:"from",type:"text",component:Ke,label:"from",validate:[Ue]}),Object(i.jsx)("div",{children:" \u2014"}),Object(i.jsx)(ne.a,{name:"to",type:"text",component:Ke,label:"to",validate:[Ue]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var qe=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Xe,{onSubmit:function(t){var n=document.getElementById("filter-duration"),c={};c.name=m,c.from=t.from,c.to=t.to,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},ze=Object(ce.a)({form:"genre-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("genre-filter-form"))},validate:function(e){var t={};return e.compare||(t.compare="Required"),t}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with genre"}),Object(i.jsxs)("div",{className:"radio-group",children:[Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"DRAMA"}),"Drama"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"TRAGEDY"}),"Tragedy"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"HORROR"}),"Horror"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"FANTASY"}),"Fantasy"]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Ve=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(ze,{onSubmit:function(t){var n=document.getElementById("filter-genre"),c={};c.name=O,c.like=t.compare,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},Qe=Object(ce.a)({form:"rating-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("rating-filter-form"))},validateRadioGroupIsNotEmpty:function(e){var t={};return e.compare||(t.compare="Required"),t}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with rating"}),Object(i.jsxs)("div",{className:"radio-group",children:[Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"G"}),"G"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"PG"}),"PG"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"PG_13"}),"PG_13"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"R"}),"R"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)(ne.a,{name:"compare",component:"input",type:"radio",value:"NC_17"}),"NC_17"]}),e.errors&&Object(i.jsx)("span",{className:"error",children:e.errors})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var Ze=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(Qe,{onSubmit:function(t){var n=document.getElementById("filter-rating"),c={};c.name=p,c.like=t.compare,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},$e=function(e){var t=e.input,n=e.type,c=e.meta,r=c.touched,o=c.error;c.warning;return Object(i.jsx)("div",{className:"text-box",children:Object(i.jsx)("input",Object(ie.a)(Object(ie.a)({},t),{},{type:n,className:r&&o?"input-error":""}))})},et=function(e){return e?void 0:"Required"},tt=Object(ce.a)({form:"screenWriter-filter-form",onSubmitSuccess:function(e,t){return t(Object(ve.a)("screenWriter-filter-form"))}})((function(e){var t=e.handleSubmit,n=e.submitting;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("h3",{children:"Select movies with screenwriter name like"}),Object(i.jsx)("div",{className:"text-box-container",children:Object(i.jsx)(ne.a,{name:"like",type:"text",component:$e,label:"from",validate:[et]})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"ok-but",disabled:n,children:"OK"})})]})}));var nt=function(){var e=Object(s.useDispatch)();return Object(i.jsx)("div",{className:"table-layout",children:Object(i.jsx)(tt,{onSubmit:function(t){var n=document.getElementById("filter-screenWriter"),c={};c.name=h,c.like=t.like,e({type:"SET_FILTER",payload:c}),n.style.color="rgb(255,255,255)",e({type:"SHOW_MODAL",payload:!1})}})})},ct=(n(311),function(e){var t=e.active,n=e.setActive,c=e.children;return Object(i.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(i.jsx)("div",{className:t?"modal-content active":"modal-content",onClick:function(e){return e.stopPropagation()},children:c})})}),it=Object(ce.a)({form:"edit-coordinates-form",keepDirtyOnReinitialize:!0})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),c=e.id,r=Object(s.useDispatch)(),o=Object(s.useSelector)((function(e){return e.coordinates.editedCoordinates}));return Object(k.useEffect)((function(){r(function(e){return function(t){fetch(W+J+"/"+e,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(e){console.log("response="+e);var n=JSON.parse(e).coordinatesList[0];t({type:V,payload:n})})).catch((function(e){e.text().then((function(e){var n=JSON.parse(e).message;t(Y.a.error(H(n)))}))}))}}(c))}),[]),Object(k.useEffect)((function(){e.reset(),e.initialize({id:o.id,x:o.x,y:o.y})}),[o]),Object(i.jsx)("form",{onSubmit:t,id:"movie-form",children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Coordinates"}),Object(i.jsx)(ne.a,{name:"x",type:"number",component:re,label:"X"}),Object(i.jsx)(ne.a,{name:"y",type:"number",component:re,label:"Y"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var rt=function(){var e=Object(c.g)().id,t=Object(s.useDispatch)(),n=Object(s.useSelector)((function(e){return e.movies.editedMovie.id}));return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsxs)("h2",{children:["Edit Coordinates (ID: ",e,")"]}),Object(i.jsx)("hr",{}),Object(i.jsx)(it,{id:e,onSubmit:function(e){t(function(e,t){console.log(e);var n={coordinatesList:[Z(e)]};return console.log("XML = "+n),function(e){fetch("http://localhost:8080/my-app/coordinates",{method:"PUT",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;It.push("/my-app/edit/"+t),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(e,n))}})]})},ot=Object(ce.a)({form:"create-coordinates-form",keepDirtyOnReinitialize:!0})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting);e.id;return Object(i.jsx)("form",{onSubmit:t,children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Coordinates"}),Object(i.jsx)(ne.a,{name:"x",type:"number",component:re,label:"X"}),Object(i.jsx)(ne.a,{name:"y",type:"number",component:re,label:"Y"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var at=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.movies.editedMovie.id}));return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsx)("h2",{children:"Create Coordinates"}),Object(i.jsx)("hr",{}),Object(i.jsx)(ot,{onSubmit:function(n){e(function(e,t){console.log(e);var n={coordinatesList:[Z(e)]};return function(e){fetch("http://localhost:8080/my-app/coordinates",{method:"POST",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;It.push("/my-app/edit/"+t),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(n,t))}})]})},st="SET_LOCATIONS",lt="SET_EDITED_LOCATION";function dt(){return function(e){fetch("http://localhost:8080/my-app/locations",{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(t){console.log("RESPONSE = "+t);n(74);var c=JSON.parse(t).locationsList;e({type:st,payload:c})})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}function ut(e){var t={};return t.id=e.id,t.x=e.x,t.y=e.y,t.name=e.name,t}var jt=Object(ce.a)({form:"edit-location-form",keepDirtyOnReinitialize:!0})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),c=e.id,r=Object(s.useDispatch)(),o=Object(s.useSelector)((function(e){return e.location.editedLocation}));return Object(k.useEffect)((function(){r(function(e){return function(t){fetch(W+A+"/"+e,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(e){console.log(e);var n=JSON.parse(e).locationsList[0];t({type:lt,payload:n})})).catch((function(e){e.text().then((function(e){var n=JSON.parse(e).message;t(Y.a.error(H(n)))}))}))}}(c))}),[]),Object(k.useEffect)((function(){e.reset(),e.initialize({id:o.id,x:o.x,y:o.y,name:o.name})}),[o]),Object(i.jsx)("form",{onSubmit:t,id:"movie-form",children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Location"}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name of location"}),Object(i.jsx)(ne.a,{name:"x",type:"number",component:re,label:"X"}),Object(i.jsx)(ne.a,{name:"y",type:"number",component:re,label:"Y"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var bt=function(){var e=Object(c.g)().id,t=Object(s.useDispatch)();return Object(s.useSelector)((function(e){return e.movies.editedMovie.id})),Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsxs)("h2",{children:["Edit Location (ID: ",e,")"]}),Object(i.jsx)("hr",{}),Object(i.jsx)(jt,{id:e,onSubmit:function(e){t(function(e,t){console.log(e);var n={locationsList:[ut(e)]};return console.log("XML = "+n),function(e){fetch("http://localhost:8080/my-app/locations",{method:"PUT",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.text();throw e})).then((function(e){It.goBack()})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(e))}})]})},mt=Object(ce.a)({form:"create-location-form"})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting);e.id;return Object(i.jsx)("form",{onSubmit:t,id:"movie-form",children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Location"}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name of location"}),Object(i.jsx)(ne.a,{name:"x",type:"number",component:re,label:"X"}),Object(i.jsx)(ne.a,{name:"y",type:"number",component:re,label:"Y"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var Ot=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.movies.editedMovie.id}));return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsx)("h2",{children:"Create Location"}),Object(i.jsx)("hr",{}),Object(i.jsx)(mt,{onSubmit:function(n){e(function(e,t){var n={locationsList:[ut(e)]};return console.log("XML = "+n),function(e){fetch("http://localhost:8080/my-app/locations",{method:"POST",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.text();throw e})).then((function(e){It.push("/my-app/edit/"+t),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(n,t))}})]})},pt=Object(ce.a)({form:"edit-person-form",keepDirtyOnReinitialize:!0})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),r=e.id,o=Object(s.useDispatch)(),a=Object(s.useSelector)((function(e){return e.person.editedPerson})),l=Object(s.useSelector)((function(e){return e.location.locationsList})),d=Object(c.f)();return Object(k.useEffect)((function(){o(function(e){return function(t){fetch(W+G+"/"+e,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(console.log("STATUS "+e.status),!e.ok)throw e;return e.text()})).then((function(e){console.log(e);var n=JSON.parse(e).personsList[0];n.eyeColor=n.passportID,t({type:ue,payload:n})})).catch((function(e){e.text().then((function(e){var n=JSON.parse(e).message;t(Y.a.error(H(n)))}))}))}}(r)),o(dt())}),[]),Object(k.useEffect)((function(){e.reset(),e.initialize({id:a.id,name:a.name,weight:a.weight,eyeColor:a.eyeColor,birthday:a.birthday,locations:a.location.id})}),[a,l]),Object(i.jsx)("form",{onSubmit:t,id:"movie-form",children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Director"}),Object(i.jsx)("div",{className:"label",children:"Location name"}),Object(i.jsxs)("div",{className:"buttons-div",children:[Object(i.jsx)(ne.a,{name:"locations",id:"locations",component:"select",label:"Coordinates",children:l.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(i.jsx)("button",{id:"location-form-but",onClick:function(e){e.preventDefault();var t=document.getElementById("locations");d.push("/my-app/location/edit/"+t.value)},children:"Edit"}),Object(i.jsx)("button",{id:"location-form-but",onClick:function(e){e.preventDefault(),d.push("/my-app/location/new")},children:"Create"})]}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name"}),Object(i.jsx)(ne.a,{name:"weight",type:"number",component:re,label:"Weight"}),Object(i.jsx)(ne.a,{name:"eyeColor",type:"text",component:re,label:"Passport ID"}),Object(i.jsx)(ne.a,{name:"birthday",type:"text",component:re,label:"Birthday"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var ht=function(){var e=Object(c.g)().id,t=Object(s.useDispatch)(),n=Object(s.useSelector)((function(e){return e.movies.editedMovie.id}));return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsxs)("h2",{children:["Edit Person (ID: ",e,")"]}),Object(i.jsx)("hr",{}),Object(i.jsx)(pt,{id:e,onSubmit:function(e){t(function(e,t){var n={personsList:[be(e)]};return console.log("XML = "+n),function(e){fetch("http://localhost:8080/my-app/persons",{method:"PUT",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;It.push("/my-app/edit/"+t),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(e,n))}})]})},ft=Object(ce.a)({form:"create-person-form"})((function(e){var t=e.handleSubmit,n=(e.pristine,e.reset,e.submitting),c=(e.id,Object(s.useDispatch)()),r=Object(s.useSelector)((function(e){return e.location.locationsList}));return Object(k.useEffect)((function(){c(dt())}),[]),Object(k.useEffect)((function(){e.reset(),e.initialize({locations:r[0].id,eyeColor:se[0]})}),[r]),Object(i.jsx)("form",{onSubmit:t,id:"movie-form",children:Object(i.jsxs)("div",{className:"movie-form",children:[Object(i.jsx)("h3",{children:"Director"}),Object(i.jsx)("div",{className:"label",children:"Location name"}),Object(i.jsx)(ne.a,{name:"locations",id:"locations",component:"select",label:"Coordinates",children:r.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(i.jsx)(ne.a,{name:"name",type:"text",component:re,label:"Name"}),Object(i.jsx)(ne.a,{name:"weight",type:"number",component:re,label:"Weight"}),Object(i.jsx)(ne.a,{name:"eyeColor",type:"text",component:re,label:"Passport ID"}),Object(i.jsx)(ne.a,{name:"birthday",type:"text",component:re,label:"Birthday"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{id:"edit-form-but",disabled:n,children:"Submit"})})]})})}));var xt=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.movies.editedMovie.id}));return Object(i.jsxs)("div",{className:"table-layout",children:[Object(i.jsx)("h2",{children:"Create Person"}),Object(i.jsx)("hr",{}),Object(i.jsx)(ft,{onSubmit:function(n){e(function(e,t){var n={personsList:[be(e)]};return console.log("XML = "+n),function(e){fetch("http://localhost:8080/my-app/persons",{method:"POST",headers:{"Content-Type":"application/xml; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw e;It.push("/my-app/edit/"+t),window.location.reload(!1)})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}}(n,t))}})]})},vt="SET_GENRE_COUNT",yt="SET_GENRE",gt="SET_LENGTH",St="SET_LENGTH_COUNT",Nt="SET_SCREENWRITER",Et="SET_SCREENWRITER_LIST";var Ct=function(){var e=Object(c.f)(),t=Object(s.useDispatch)(),n=Object(k.useState)(""),r=Object(D.a)(n,2),o=r[0],a=r[1],l=Object(s.useSelector)((function(e){return e.additional.genreCount}));return Object(k.useEffect)((function(){return e.listen((function(n){"POP"===e.action&&t({type:vt,payload:""})}))}),[]),Object(i.jsxs)("div",{className:"task-layout",children:[Object(i.jsx)("h1",{children:"Genre task"}),Object(i.jsxs)("div",{className:"add-task-container",children:[Object(i.jsx)("div",{children:"How many movies exist with genre equals to"}),Object(i.jsx)("select",{className:"add-select",value:o,onChange:function(e){var n,c=e.target.value;a(c),t(""!==c?(n=c,function(e){fetch(W+B+"?genre="+n,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(t){console.log(t);var n=JSON.parse(t);e({type:vt,payload:n.count})})).catch((function(t){t.text.then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}):{type:vt,payload:""})},onFocus:function(e){a(""),t({type:vt,payload:""})},children:ae.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))})]}),""!==l&&Object(i.jsxs)("div",{className:"answer",children:[" Answer: ",l]}),Object(i.jsx)("button",{className:"back-movie-but",onClick:function(){e.push("/my-app"),t({type:vt,payload:""})},children:"BACK TO MOVIES"})]})};var wt=function(){var e=Object(c.f)(),t=Object(s.useDispatch)(),n=Object(s.useSelector)((function(e){return e.additional.lengthCount})),r=Object(k.useState)(""),o=Object(D.a)(r,2),a=o[0],l=o[1];return Object(k.useEffect)((function(){return e.listen((function(n){"POP"===e.action&&t({type:St,payload:""})}))}),[]),Object(i.jsxs)("div",{className:"task-layout",children:[Object(i.jsx)("h1",{children:"Duration task"}),Object(i.jsxs)("div",{className:"add-task-container",children:[Object(i.jsx)("div",{children:"How many movies exist with oscars count greater than"}),Object(i.jsx)("input",{type:"number",className:"add-input",value:a,onChange:function(e){var t=e.target.value;l(t)},onFocus:function(e){l(""),t({type:St,payload:""})},onBlur:function(e){var n,c=e.target.value;""!==c&&Number.isInteger(Number(c))&&Number(c)>0?t((n=c,console.log("LENGTH = "+n),function(e){var t=W+B+"?oscarsCount="+n;console.log(t),fetch(t,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(!e.ok)throw e;return e.text()})).then((function(t){console.log(t);var n=JSON.parse(t);e({type:St,payload:n.count})})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))})):l("")}})]}),""!==n&&Object(i.jsxs)("div",{className:"answer",children:[" Answer: ",n]}),Object(i.jsx)("button",{className:"back-movie-but",onClick:function(){t({type:St,payload:""}),e.push("/my-app")},children:"BACK TO MOVIES"})]})};var Tt=function(){return Object(s.useDispatch)(),Object(i.jsxs)("div",{className:"table-header base",id:"table-header",children:[Object(i.jsx)("div",{className:"id-div",children:Object(i.jsx)("span",{children:"Id"})}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Name"})}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Weight"})}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Eye Color"})}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Location"})})]})};var Dt=function(e){var t=e.person,n=t.id;return Object(i.jsxs)("div",{className:"table-row base",children:[Object(i.jsx)("div",{className:"id-div",children:n}),Object(i.jsx)("div",{children:t.name}),Object(i.jsx)("div",{children:t.weight}),Object(i.jsx)("div",{children:t.eyeColor}),Object(i.jsx)("div",{children:t.location.name})]})};var kt=function(e){var t,n=e.screenwriterList;return void 0===n?Object(i.jsx)("div",{className:"table-row base id-div",children:Object(i.jsx)("div",{className:"id-div",children:"No data."})}):(Array.isArray(n)?t=n.map((function(e){return Object(i.jsx)(Dt,{person:e},e.id)})):(console.log("NOT ARRAY"),t=Object(i.jsx)(Dt,{person:n},n.id)),Object(i.jsx)("div",{children:t}))};var Lt=function(){var e=Object(s.useSelector)((function(e){return e.additional.screenwriterList}));return Object(i.jsxs)("div",{className:"movie-table",children:[Object(i.jsx)(Tt,{}),Object(i.jsx)(kt,{screenwriterList:e})]})};var Rt=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.person.personsList})),n=Object(s.useSelector)((function(e){return e.additional.screenwriterList})),r=Object(c.f)(),o=Object(k.useState)(""),a=Object(D.a)(o,2),l=a[0],d=a[1];return Object(k.useEffect)((function(){e(je())}),[]),Object(k.useEffect)((function(){return r.listen((function(t){"POP"===r.action&&e({type:Et,payload:[]})}))}),[]),Object(i.jsxs)("div",{className:"task-layout",children:[Object(i.jsx)("h1",{children:"Director task"}),Object(i.jsxs)("div",{className:"add-task-container",children:[Object(i.jsx)("div",{children:"List all movies with director less than"}),Object(i.jsx)("input",{type:"text",className:"add-input",value:l,onChange:function(t){var n,c=t.target.value;d(c),""!==c&&e((n=c,function(e){fetch(W+B+"?director="+n,{method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8"}}).then((function(e){if(console.log("STATUS "+e.status),!e.ok)throw e;return e.text()})).then((function(t){var n=JSON.parse(t);e({type:Et,payload:n.personsList})})).catch((function(t){t.text().then((function(t){var n=JSON.parse(t).message;e(Y.a.error(H(n)))}))}))}))}}),t.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(!Array.isArray(n)||n.length>0)&&Object(i.jsx)(Lt,{}),Object(i.jsx)("button",{className:"back-movie-but",onClick:function(){r.push("/my-app"),e({type:Et,payload:[]})},children:"BACK TO MOVIES"})]})},It=xe()();var Mt=function(){var e=Object(s.useSelector)((function(e){return e.notifications})),t=Object(s.useSelector)((function(e){return e.page.modalActive})),n=Object(s.useDispatch)(),r=Object(s.useSelector)((function(e){return e.page.curCriterion}));return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsxs)(ct,{active:t,setActive:function(e){n({type:"SHOW_MODAL",payload:e})},id:"modal",children:[r===l&&Object(i.jsx)(Ne,{}),r===d&&Object(i.jsx)(Te,{}),r===u&&Object(i.jsx)(Re,{}),r===j&&Object(i.jsx)(Be,{}),r===b&&Object(i.jsx)(He,{}),r===m&&Object(i.jsx)(qe,{}),r===O&&Object(i.jsx)(Ve,{}),r===p&&Object(i.jsx)(Ze,{}),r===h&&Object(i.jsx)(nt,{})]}),Object(i.jsx)(te.a,{history:It,children:Object(i.jsxs)(c.c,{children:[Object(i.jsx)(c.a,{path:"/my-app/edit/:id",children:Object(i.jsx)(Oe,{})}),Object(i.jsx)(c.a,{path:"/my-app/coordinates/edit/:id",children:Object(i.jsx)(rt,{})}),Object(i.jsx)(c.a,{path:"/my-app/location/edit/:id",children:Object(i.jsx)(bt,{})}),Object(i.jsx)(c.a,{path:"/my-app/person/edit/:id",children:Object(i.jsx)(ht,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/coordinates/new",children:Object(i.jsx)(at,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/location/new",children:Object(i.jsx)(Ot,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/person/new",children:Object(i.jsx)(xt,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/additional/genre",children:Object(i.jsx)(Ct,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/additional/duration",children:Object(i.jsx)(wt,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app/additional/screenwriter",children:Object(i.jsx)(Rt,{})}),Object(i.jsx)(c.a,{path:"/my-app/new",children:Object(i.jsx)(he,{})}),Object(i.jsx)(c.a,{exact:!0,path:"/my-app",children:Object(i.jsx)(ee,{})})]})}),Object(i.jsx)(Y.a,{notifications:e})]})},_t=n(52),Pt=n.n(_t),At=n(17),Jt={movieList:[],editedMovie:{coordinates:{id:"",x:"",y:""},screenWriter:{id:"",eyeColor:"",name:"",weight:"",location:{id:"",x:"",name:"",y:""}},director:{id:"",eyeColor:"",name:"",weight:"",location:{id:"",x:"",name:"",y:""}}}};var Gt=n(103),Bt={perPage:10,currentPage:1,itemCount:"",deleteItem:0,sortBy:[],modalActive:!1,filters:[],curCriterion:""};var Wt=n(137),Ft={coordinatesList:[{id:"",x:"",y:""}],editedCoordinates:{id:"",x:"",y:""}};var Yt={locationsList:[{id:"",x:"",y:"",name:""}],editedLocation:{id:"",x:"",y:"",name:""}};var Ht={personsList:[{id:"",name:"",weight:"",eyeColor:"",location:{}},{id:"",name:"",weight:"",eyeColor:"",location:{}}],editedPerson:{id:"",name:"",weight:"",eyeColor:"",location:{}}};var Kt={genre:"",genreCount:"",length:"",lengthCount:"",screenwriter:{},screenwriterList:[]};var Ut=Object(At.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{movieList:t.payload});case _:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{editedMovie:t.payload});default:return e}},notifications:F.reducer,page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(ie.a)(Object(ie.a)({},e),{},{perPage:t.payload});case x:return Object(ie.a)(Object(ie.a)({},e),{},{currentPage:t.payload});case v:return Object(ie.a)(Object(ie.a)({},e),{},{curCriterion:t.payload});case y:return Object(ie.a)(Object(ie.a)({},e),{},{itemCount:t.payload});case g:return Object(ie.a)(Object(ie.a)({},e),{},{deleteItem:e.deleteItem+1});case S:return Object(ie.a)(Object(ie.a)({},e),{},{sortBy:[].concat(Object(Gt.a)(e.sortBy),[t.payload])});case N:return Object(ie.a)(Object(ie.a)({},e),{},{sortBy:e.sortBy.filter((function(e){return e!==t.payload}))});case E:return Object(ie.a)(Object(ie.a)({},e),{},{modalActive:t.payload});case C:return Object(ie.a)(Object(ie.a)({},e),{},{filters:[].concat(Object(Gt.a)(e.filters),[t.payload])});case w:return Object(ie.a)(Object(ie.a)({},e),{},{filters:e.filters.filter((function(e){return e.name!==t.payload}))});default:return e}},coordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{coordinatesList:t.payload});case V:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{editedCoordinates:t.payload});default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{locationsList:t.payload});case lt:return console.log(t.payload),Object(ie.a)(Object(ie.a)({},e),{},{editedLocation:t.payload});default:return e}},person:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(ie.a)(Object(ie.a)({},e),{},{personsList:t.payload});case ue:return Object(ie.a)(Object(ie.a)({},e),{},{editedPerson:t.payload});default:return e}},additional:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return Object(ie.a)(Object(ie.a)({},e),{},{genreCount:t.payload});case yt:return Object(ie.a)(Object(ie.a)({},e),{},{genre:t.payload});case Et:return Object(ie.a)(Object(ie.a)({},e),{},{screenwriterList:t.payload});case gt:return Object(ie.a)(Object(ie.a)({},e),{},{length:t.payload});case St:return Object(ie.a)(Object(ie.a)({},e),{},{lengthCount:t.payload});case Nt:return Object(ie.a)(Object(ie.a)({},e),{},{screenwriter:t.payload});default:return e}},form:Wt.a}),Xt=n(143),qt=n(144),zt=n.n(qt),Vt=n(145),Qt=Object(At.createStore)(Ut,Object(Xt.composeWithDevTools)(Object(At.applyMiddleware)(Vt.a,zt.a)));Pt.a.render(Object(i.jsx)(s.Provider,{store:Qt,children:Object(i.jsx)(Mt,{})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.c27b03dc.chunk.js.map